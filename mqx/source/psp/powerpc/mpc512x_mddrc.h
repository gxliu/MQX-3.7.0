#ifndef __mpc5125_mddrc_h__
#define __mpc5125_mddrc_h__
/**HEADER********************************************************************
* 
* Copyright (c) 2008 Freescale Semiconductor;
* All Rights Reserved
*
* Copyright (c) 2004-2008 Embedded Access Inc.;
* All Rights Reserved
*
*************************************************************************** 
*
* THIS SOFTWARE IS PROVIDED BY FREESCALE "AS IS" AND ANY EXPRESSED OR 
* IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES 
* OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.  
* IN NO EVENT SHALL FREESCALE OR ITS CONTRIBUTORS BE LIABLE FOR ANY DIRECT, 
* INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES 
* (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR 
* SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) 
* HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, 
* STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING 
* IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF 
* THE POSSIBILITY OF SUCH DAMAGE.
*
**************************************************************************
*
* $FileName: mpc512x_mddrc.h$
* $Version :  3.7.3.0$
* $Date    :  Feb-7-2011$
*
* Comments:
*
*   This file contains definitions for the MPC5125 family and peripherals.
*
*END************************************************************************/

#include <mpc512x_prioman.h>

/* DRAM Controller Register Offsets */
#define MPC5125_DDR_SYS_CONFIG            0x00
#define MPC5125_DDR_TIME_CONFIG0          0x04
#define MPC5125_DDR_TIME_CONFIG1          0x08
#define MPC5125_DDR_TIME_CONFIG2          0x0C
#define MPC5125_DDR_COMMAND               0x10
#define MPC5125_DDR_COMPACT_COMMAND       0x14
#define MPC5125_DDR_SELF_REFRESH_CMD_0    0x18
#define MPC5125_DDR_SELF_REFRESH_CMD_1    0x1C
#define MPC5125_DDR_SELF_REFRESH_CMD_2    0x20
#define MPC5125_DDR_SELF_REFRESH_CMD_3    0x24
#define MPC5125_DDR_SELF_REFRESH_CMD_4    0x28
#define MPC5125_DDR_SELF_REFRESH_CMD_5    0x2C
#define MPC5125_DDR_SELF_REFRESH_CMD_6    0x30
#define MPC5125_DDR_SELF_REFRESH_CMD_7    0x34
#define MPC5125_DDR_DQS_CONFIG_COUNT      0x38
#define MPC5125_DDR_DQS_CONFIG_TIME       0x3C
#define MPC5125_DDR_DQS_DELAY_STATUS      0x40

#define MPC5125_DDR_OCD_DFLT_MASK      	0x00000380
#define MPC5125_DDR_RFSH	            	0x01080000
#define MPC5125_CFG_MICRON_RFSH        	MPC5125_DDR_RFSH
#define MPC5125_DDR_INIT_DEV_OP		      0x01000432
#define MPC5125_CFG_MICRON_INIT_DEV_OP	   MPC5125_DDR_INIT_DEV_OP
#define MPC5125_DDR_NOP			            0x01380000
#define MPC5125_CFG_MICRON_NOP		      MPC5125_DDR_NOP
#define MPC5125_DDR_PCHG_ALL		         0x01100400
#define MPC5125_CFG_MICRON_PCHG_ALL	      MPC5125_DDR_PCHG_ALL
#define MPC5125_DDR_EM2			            0x01020000
#define MPC5125_CFG_MICRON_EM2		      MPC5125_DDR_EM2
#define MPC5125_DDR_EM3			            0x01030000
#define MPC5125_CFG_MICRON_EM3		      MPC5125_DDR_EM3
#define MPC5125_DDR_EN_DLL		            0x01010000
#define MPC5125_CFG_MICRON_EN_DLL	      MPC5125_DDR_EN_DLL
#define MPC5125_DDR_RES_DLL		         MPC5125_DDR_INIT_DEV_OP | 0x00000100
#define MPC5125_DDR_RFSH		            0x01080000
#define MPC5125_DDR_ODT_150	         	0x40
#define MPC5125_DDR_ODT_75	            	0x04
#define MPC5125_DDR_ODT_50	            	0x44
#define MPC5125_DDR_OCD_DEFAULT		      0x01010400 | MPC5125_DDR_OCD_DFLT_MASK | MPC5125_DDR_ODT_50
#define MPC5125_CFG_MICRON_OCD_DEFAULT	   MPC5125_DDR_OCD_DEFAULT

/*
 * DDR Setup - manually set all parameters as there's no SPD etc.
 */ 
#define MPC5125_CONFIG_SYS_DDR_SIZE       256		
#define MPC5125_CONFIG_SYS_DDR_BASE		   0x00000000
#define MPC5125_CONFIG_SYS_SDRAM_BASE		MPC5125_CONFIG_SYS_DDR_BASE

/* These were originally in mpc512x.h */

#define MPC5125_DDR_LAW_BAR	         	0x00a0
#define MPC5125_DDR_LAW_AR	            	0x00a4
#define MPC5125_MDDRC_SYS_CFG		         0xfa804A00
#define MPC5125_MDDRC_SYS_CFG_RUN      	0xea804A00
#define MPC5125_MDDRC_BASE_OFFSET      	0x09000
#define MPC5125_MDDRC_TIME_CFG1	      	0x68ec1189
#define MPC5125_MDDRC_TIME_CFG2	      	0x34310864
#define MPC5125_MDDRC_SYS_CFG_EN	         0xF0000000
#define MPC5125_MDDRC_TIME_CFG0	      	0x00003c2d
#define MPC5125_MDDRC_TIME_CFG0_RUN    	0x06183c2d
#define MPC5125_CFG_DDR_BASE	         	MPC5125_CONFIG_SYS_DDR_BASE
#define MPC5125_CFG_MDDRC_SYS_CFG_RUN     MPC5125_MDDRC_SYS_CFG_RUN
#define MPC5125_CFG_MDDRC_TIME_CFG2	      MPC5125_MDDRC_TIME_CFG2
#define MPC5125_CFG_MDDRC_TIME_CFG0_RUN	MPC5125_MDDRC_TIME_CFG0_RUN
#define MPC5125_CFG_MDDRC_TIME_CFG0    	MPC5125_MDDRC_TIME_CFG0
#define MPC5125_CFG_MDDRC_TIME_CFG1    	MPC5125_MDDRC_TIME_CFG1
#define MPC5125_CFG_MDDRC_SYS_CFG_EN   	MPC5125_MDDRC_SYS_CFG_EN


/* DDR Priority Manager Configuration */

#define MPC5125_CFG_MDDRCGRP_PM_CFG1      0x000777aa
#define MPC5125_CFG_MDDRCGRP_PM_CFG2      0x00000055
#define MPC5125_CFG_MDDRCGRP_HIPRIO_CFG   0x00000000
#define MPC5125_CFG_MDDRCGRP_LUT0_MU      0x11111117
#define MPC5125_CFG_MDDRCGRP_LUT0_ML      0x7777777a
#define MPC5125_CFG_MDDRCGRP_LUT1_MU      0x444eeeee
#define MPC5125_CFG_MDDRCGRP_LUT1_ML      0xeeeeeeee
#define MPC5125_CFG_MDDRCGRP_LUT2_MU      0x44444444
#define MPC5125_CFG_MDDRCGRP_LUT2_ML      0x44444444
#define MPC5125_CFG_MDDRCGRP_LUT3_MU      0x55555555
#define MPC5125_CFG_MDDRCGRP_LUT3_ML      0x55555558
#define MPC5125_CFG_MDDRCGRP_LUT4_MU      0x11111111
#define MPC5125_CFG_MDDRCGRP_LUT4_ML      0x1111117c
#define MPC5125_CFG_MDDRCGRP_LUT0_AU      0x33333377
#define MPC5125_CFG_MDDRCGRP_LUT0_AL      0x7777eeee
#define MPC5125_CFG_MDDRCGRP_LUT1_AU      0x11111111
#define MPC5125_CFG_MDDRCGRP_LUT1_AL      0x11111111
#define MPC5125_CFG_MDDRCGRP_LUT2_AU      0x11111111
#define MPC5125_CFG_MDDRCGRP_LUT2_AL      0x11111111
#define MPC5125_CFG_MDDRCGRP_LUT3_AU      0x11111111
#define MPC5125_CFG_MDDRCGRP_LUT3_AL      0x11111111
#define MPC5125_CFG_MDDRCGRP_LUT4_AU      0x11111111
#define MPC5125_CFG_MDDRCGRP_LUT4_AL      0x11111111

#ifndef __ASM__

typedef volatile struct mpc5125_dram_struct
{
    RESERVED_REGISTER(0x0000,0x80);
} MPC5125_DRAM_STRUCT, _PTR_ MPC5125_DRAM_STRUCT_PTR;


typedef volatile struct mpc5125_mddrc_struct
{
   MPC5125_DRAM_STRUCT     DRAM;
   MPC5125_PRIOMAN_STRUCT  PRIOMAN;
    RESERVED_REGISTER(0x400,0x1000);
} MPC5125_MDDRC_STRUCT, _PTR_ MPC5125_MDDRC_STRUCT_PTR;


#endif __ASM__

#endif